<!DOCTYPE html>
<html>
<head>
    <title>{{ title | trans }}</title>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        {% include 'navbar.twig' with {'name': title} %}
        {% include 'langMenu.twig' with {'images': conf.images} %}
        <div class="page-header"><h1>{{ title | trans }}</h1></div>
        <div class="row">
            <div class="col-md-12">
            <form id="numberForm" method="get" action="{{ app.request.baseUrl }}/numbers">
                <input type="number" min="0" id="searchString" name="searchString" value="{{ name }}" /><input type="submit" value="{{ 'Search' | trans }}" />
            </form>
            </div>
        </div>
        <hr/>
        <div id="result" class="alert alert-success">
        </div>
    {% include 'footer.twig' with {'conf': conf} %}
    </div>
<script type="text/javascript">
  $(document).ready(function() {
    $('#numberForm').submit(function() {

      var url = "{{ app.request.baseUrl }}/numbers";
    
      //alert($('#searchString').val());
      $.ajax({
           type: "GET",
           url: url,
           data: {
               "searchString": $('#searchString').val(),
               "format": "json"
           },
           success: function(data)
           {
               //alert(data.result); // show response from the php script.
               $('#result').empty().append('<p><b>' + data.result + '</b></p>');
           }
      });

      return false; // avoid to execute the actual submit of the form.
    });
  });
</script>

</body>
</html>
